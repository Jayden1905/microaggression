import { type NextPage } from 'next'
import Head from 'next/head'

import { api } from '~/utils/api'

const Home: NextPage = () => {
  const createForm = api.form.submit.useMutation({
    onSuccess: () => {
      console.log('form submitted')
    },
  })

  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault()
    console.log('click')
  }

  const { data: categories } = api.categories.getCategories.useQuery()

  return (
    <>
      <Head>
        <title>Create T3 App</title>
        <meta name='description' content='Generated by create-t3-app' />
        <link rel='icon' href='/favicon.ico' />
      </Head>
      <main>
        {categories && (
          <>
            <div className='mx-auto max-w-4xl px-3 pt-4'>
              <h1 className='text-3xl text-primary'>
                Microaggression in Healthcare Examples Database
              </h1>
              <form className='mt-4' onSubmit={handleSubmit}>
                <label htmlFor='category' className='text-xl tracking-wider'>
                  1. What&apos;s the category of microaggression you&apos;d like
                  to report?
                  <span className='text-error'>*</span>
                </label>
                {categories.map((category) => (
                  <div key={category.id} className='form-control flex-row'>
                    <label className='label cursor-pointer'>
                      <input type='checkbox' className='checkbox mr-4' />
                      <span className='label-text text-lg'>
                        {category.name}
                      </span>
                    </label>
                  </div>
                ))}
                <button
                  type='submit'
                  className='btn-wide btn text-lg normal-case'
                >
                  Submit
                </button>
              </form>
            </div>
          </>
        )}
      </main>
    </>
  )
}

export default Home
